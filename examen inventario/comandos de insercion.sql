--llenando tablas 

--tabla estados

INSERT INTO estados VALUES (default, 'Amazonas');
INSERT INTO estados VALUES (default, 'Anzoategui');
INSERT INTO estados VALUES (default, 'Apure');
INSERT INTO estados VALUES (default, 'Aragua');
INSERT INTO estados VALUES (default, 'Barinas');
INSERT INTO estados VALUES (default, 'Bolivar');
INSERT INTO estados VALUES (default, 'Carabobo');
INSERT INTO estados VALUES (default, 'Cojedes');
INSERT INTO estados VALUES (default, 'Delta Amacuro');
INSERT INTO estados VALUES (default, 'Falcon');
INSERT INTO estados VALUES (default, 'Distrito Capital');
INSERT INTO estados VALUES (default, 'Guarico');
INSERT INTO estados VALUES (default, 'Lara');
INSERT INTO estados VALUES (default, 'Mérida');
INSERT INTO estados VALUES (default, 'Miranda');
INSERT INTO estados VALUES (default, 'Monagas');
INSERT INTO estados VALUES (default, 'Nueva Esparta');
INSERT INTO estados VALUES (default, 'Portuguesa');
INSERT INTO estados VALUES (default, 'Sucre');
INSERT INTO estados VALUES (default, 'Tachira');
INSERT INTO estados VALUES (default, 'Trujillo');
INSERT INTO estados VALUES (default, 'Vargas');
INSERT INTO estados VALUES (default, 'Yaracuy');
INSERT INTO estados VALUES (default, 'Zulia');

--tabla ciudad

INSERT INTO ciudad VALUES (default, 1 , 'Puerto Ayacucho');
INSERT INTO ciudad VALUES (default, 2 , 'Barcelona');
INSERT INTO ciudad VALUES (default, 3 , 'San Fernando de Apure');
INSERT INTO ciudad VALUES (default, 4 , 'Maracay');
INSERT INTO ciudad VALUES (default, 5 , 'C Barinas');
INSERT INTO ciudad VALUES (default, 6 , 'Ciudad Bolivar');
INSERT INTO ciudad VALUES (default, 7 , 'Valencia');
INSERT INTO ciudad VALUES (default, 8 , 'San Carlos');
INSERT INTO ciudad VALUES (default, 9 , 'Tucupita');
INSERT INTO ciudad VALUES (default, 10 , 'Caracas');
INSERT INTO ciudad VALUES (default, 11 , 'Coro');
INSERT INTO ciudad VALUES (default, 12 , 'San Juan de los Morros');
INSERT INTO ciudad VALUES (default, 13 , 'Barquisimeto');
INSERT INTO ciudad VALUES (default, 14 , 'C Merida');
INSERT INTO ciudad VALUES (default, 15 , 'Los Teques');
INSERT INTO ciudad VALUES (default, 16 , 'Maturin');
INSERT INTO ciudad VALUES (default, 17 , 'La Asuncion');
INSERT INTO ciudad VALUES (default, 18 , 'Guanare');
INSERT INTO ciudad VALUES (default, 19 , 'Cumana');
INSERT INTO ciudad VALUES (default, 20 , 'San Cristobal');
INSERT INTO ciudad VALUES (default, 21 , 'C Trujillo');
INSERT INTO ciudad VALUES (default, 22 , 'La Guaira');
INSERT INTO ciudad VALUES (default, 23 , 'San Felipe');
INSERT INTO ciudad VALUES (default, 24 , 'Maracaibo');
INSERT INTO ciudad VALUES (default, 24 , 'Cabimas');
INSERT INTO ciudad VALUES (default, 24 , 'Machiques');
INSERT INTO ciudad VALUES (default, 24 , 'Ciudad Ojeda');

--tabla direccion 

INSERT INTO direccion VALUES (default, 24 , 'La Picola');
INSERT INTO direccion VALUES (default, 24 , 'La Lago');
INSERT INTO direccion VALUES (default, 24 , 'El Naranjal');
INSERT INTO direccion VALUES (default, 24 , '18 de Octubre');
INSERT INTO direccion VALUES (default, 24 , 'San Jacinto');
INSERT INTO direccion VALUES (default, 24 , 'Grano de Oro');
INSERT INTO direccion VALUES (default, 24 , 'El Milagro');
INSERT INTO direccion VALUES (default, 24 , 'Bella Vista');
INSERT INTO direccion VALUES (default, 26 , 'Rosa Grande');
INSERT INTO direccion VALUES (default, 26 , 'Calle Aurora');
INSERT INTO direccion VALUES (default, 26 , 'El Pao');
INSERT INTO direccion VALUES (default, 26 , 'Quevedo');
INSERT INTO direccion VALUES (default, 10 , 'Petare');

--tabla cliente

INSERT INTO cliente VALUES (default, 'Maria', 'Boscan', '28428317', '2002-05-03', 'calle x con avenida n', 1, '4004', '0424-6467221', 'mariafernandaboscan@gmail.com');
INSERT INTO cliente VALUES (default, 'Pablito', 'Lopez', '221234567', '2002-06-23', 'calle y con avenida m', 3, '4004', '0424-64543222', 'pablito@gmail.com');
INSERT INTO cliente VALUES (default, 'Jose', 'Rincon', '221444447', '2002-09-01', 'calle w con avenida s', 3, '4002', '0424-64532322', 'Jose@gmail.com');
INSERT INTO cliente VALUES (default, 'Andres', 'Marmol', '223245447', '1998-05-30', 'calle a con avenida m', 2, '4001', '0424-6453332322', 'Andres@gmail.com');
INSERT INTO cliente VALUES (default, 'Andrea', 'Diaz', '333333245', '2002-12-21', 'calle x con avenida d', 3, '4004', '0424-64532222', 'Andrea@gmail.com');
INSERT INTO cliente VALUES (default, 'Luis', 'Chang', '33212345', '2002-01-01', 'calle chi con avenida no', 2, '4006', '0424-64213456', 'chino@gmail.com');
INSERT INTO cliente VALUES (default, 'Andres', 'Diaz', '36666777', '1998-05-05', 'calle x con avenida d', 3, '4004', '0424-6421345656', 'andres2@gmail.com');
INSERT INTO cliente VALUES (default, 'Marcos', 'Fuenmayor', '12345678', '1997-08-16', 'calle no con avenida se', 7, '4002', '0424-64299945656', 'mdjfs@gmail.com');
INSERT INTO cliente VALUES (default, 'Juan', 'Fuenmayor', '87654321', '1999-10-16', 'calle a con avenida b', 4, '4004', '0424-642911111656', 'Juanalgo@gmail.com');
INSERT INTO cliente VALUES (default, 'Juan', 'Sampayo', '333334444', '2002-09-25', 'calle q con avenida q', 4, '4000', '0424-642933311656', 'sampayo@gmail.com');
INSERT INTO cliente VALUES (default, 'Xian', 'Poo', '33333222', '2001-01-10', 'calle c con avenida c',13, '4100', '0424-6429333222', 'champu@gmail.com');
INSERT INTO cliente VALUES (default, 'Tuna', 'Mayo', '3312322', '1993-01-02', 'calle a con avenida x',12, '4120', '0424-642221433222', 'Tunamayo@gmail.com');
INSERT INTO cliente VALUES (default, 'Sona', 'Lol', '334444322', '2010-04-11', 'calle lol con avenida lol',11, '1000', '0424-1111333222', 'leagueoflegends@gmail.com');
INSERT INTO cliente VALUES (default, 'Ayaka', 'Kamisato', '77788889999', '2021-07-15', 'calle gen con avenida shin',2, '1000', '0424-456733222', 'ayakatqm@gmail.com');
INSERT INTO cliente VALUES (default, 'Killjoy', 'WannaCry', '58766923', '2002-03-10', 'calle Val con avenida orant',8, '2000', '0412-4564433222', 'valorant@gmail.com');
INSERT INTO cliente VALUES (default, 'Gonpanchiro', 'Kamaboko', '11222334455', '1999-03-10', 'calle de con avenida mon',9, '2002', '0412-4511133222', 'kimetsu@gmail.com');

--tabla vendedor

INSERT INTO vendedor VALUES (default, 'Inosuke', 'Hashibira', '1999-01-01', '2005-02-02', 'calle 2 con avenida 3', 2, '9000', '0416-6612163', 'inosuke@gmail.com');
INSERT INTO vendedor VALUES (default, 'Maria V', 'Boscan', '2008-02-11', '2021-05-11', 'calle a con avenida b', 1, '4004', '0416-66444163', 'nose@gmail.com');
INSERT INTO vendedor VALUES (default, 'Nanda', 'Tayo', '2002-05-03', '2021-02-09', 'calle x con avenida d', 6, '4004', '0416-66440000003', 'equisde@gmail.com');
INSERT INTO vendedor VALUES (default, 'Jesus', 'Herrera', '2002-05-20', '2020-02-11', 'calle no con avenida se', 10, '4204', '0416-664333300003', 'jesuh@gmail.com');

--tabla pais_origen 

INSERT INTO pais_origen VALUES (default, 'China');
INSERT INTO pais_origen VALUES (default, 'Venezuela');
INSERT INTO pais_origen VALUES (default, 'España');
INSERT INTO pais_origen VALUES (default, 'Japon');
INSERT INTO pais_origen VALUES (default, 'Dinamarca');
INSERT INTO pais_origen VALUES (default, 'Iran');
INSERT INTO pais_origen VALUES (default, 'Colombia');
INSERT INTO pais_origen VALUES (default, 'Brasil');

--tabla departamento

INSERT INTO departamento VALUES (default, 'cocina');
INSERT INTO departamento VALUES (default, 'ropa');
INSERT INTO departamento VALUES (default, 'juguetes');
INSERT INTO departamento VALUES (default, 'comida');
INSERT INTO departamento VALUES (default, 'salud');
INSERT INTO departamento VALUES (default, 'electrodomesticos');
INSERT INTO departamento VALUES (default, 'electronica');
INSERT INTO departamento VALUES (default, 'estudiantil');

--tabla proveedor

INSERT INTO proveedor VALUES (default, 'Polar C.A', 'venta de harina pan', 'J-12344567', 1);
INSERT INTO proveedor VALUES (default, 'Asus S.A', 'venta de computadoras', 'J-112356867', 2);
INSERT INTO proveedor VALUES (default, 'Kreisel C.A' , 'juguetes' , 'J-1233222567', 3);
INSERT INTO proveedor VALUES (default, 'Pastilla Feliz S.A' , 'venta de medicinas' , 'J-12567822567', 3);
INSERT INTO proveedor VALUES (default, 'Todo Cocinas C.A' , 'venta de productos para cocina' , 'J-11111122567', 7);
INSERT INTO proveedor VALUES (default, 'Renata C.A' , 'venta de dulces' , 'J-11999922567', 8);


--tabla producto 

INSERT INTO producto VALUES ('1 234567 891011 5', 'Harina Pan', 0, 2, 'Harina de maiz para arepa', 0, 4);
INSERT INTO producto VALUES ('1 123456 123456 3', 'Maltin Polar', 0, 2, 'Bebida que caliente sabe feo', 0, 4);
INSERT INTO producto VALUES ('1 234567 234567 2', 'Galletas limon', 0, 8, 'Galletas con relleno de limon', 0, 4);
INSERT INTO producto VALUES ('1 654321 654321 0', 'Laptop ROG', 0, 1, 'laptop con una 3080', 0, 7);
INSERT INTO producto VALUES ('1 234567 234567 7', 'Paracetamol', 0, 6, 'pastilla magica cubana hecha en iran', 0, 5);
INSERT INTO producto VALUES ('5 234567 222222 2', 'Insector', 0, 1, 'Juguete que todo niño queria', 0, 3);

--Tabla compra

INSERT INTO compra VALUES (default, '2010-07-29', 1); --compre harina pan 
INSERT INTO compra VALUES (default, '2010-07-29', 1); --compre malta
INSERT INTO compra VALUES (default, '2012-08-20', 6); --compre galletas
INSERT INTO compra VALUES (default, '2014-10-03', 6); --compre galletas renatas
INSERT INTO compra VALUES (default, '2016-09-09', 2); --compre laptop gaming
INSERT INTO compra VALUES (default, '2018-10-10', 4); --compre paracetamol
INSERT INTO compra VALUES (default, '2020-01-01', 3); --compre un insector

INSERT INTO compra VALUES (default, '2020-02-01', 1); --compre mas harina pan
INSERT INTO compra VALUES (default, '2020-02-01', 2); --compre galletas 
INSERT INTO compra VALUES (default, '2020-02-01', 1); --compre mas malta

--producto_compra

INSERT INTO producto_compra VALUES (1, 100, '1 234567 891011 5', 3); --100 harina
INSERT INTO producto_compra VALUES (2, 50, '1 123456 123456 3', 0.5); --50 malta
INSERT INTO producto_compra VALUES (3, 25, '1 234567 234567 2', 0.3); --25 galletas
INSERT INTO producto_compra VALUES (4, 30, '1 234567 234567 2', 0.3); --30 galletas
INSERT INTO producto_compra VALUES (5, 3, '1 654321 654321 0', 1750); --3 laptop
INSERT INTO producto_compra VALUES (6, 1000, '1 234567 234567 7', 0.2); --1000 paracetamol
INSERT INTO producto_compra VALUES (7, 10, '5 234567 222222 2', 10); --10 insector

INSERT INTO producto_compra VALUES (8, 100, '1 234567 891011 5', 3); --100 harina
INSERT INTO producto_compra VALUES (9, 25, '1 234567 234567 2', 0.3); --25 galletas
INSERT INTO producto_compra VALUES (10, 50, '1 123456 123456 3', 0.5); --50 malta

--precios tienda

UPDATE producto SET precio_tienda = precio_tienda + 4 WHERE codigo_barras= '1 234567 891011 5'; --la harina costo 3 la vendo en 4
UPDATE producto SET precio_tienda = precio_tienda + 1 WHERE codigo_barras= '1 123456 123456 3'; --la maltin costo 0.5 la vendo en 1 
UPDATE producto SET precio_tienda = precio_tienda + 0.6 WHERE codigo_barras= '1 234567 234567 2'; --las galletas costaron 0.3 los vendo en 0.6
UPDATE producto SET precio_tienda = precio_tienda + 2000 WHERE codigo_barras= '1 654321 654321 0'; --la laptop costo 1750 la vendo en 2000
UPDATE producto SET precio_tienda = precio_tienda + 0.4 WHERE codigo_barras= '1 234567 234567 7'; --el paracetamol costo 0.2 vendo 0.4
UPDATE producto SET precio_tienda = precio_tienda + 12 WHERE codigo_barras= '5 234567 222222 2'; --el insector costo 10 vendo en 12

--ejemplo cuando llegan los productos (reposicion de inventario)


--100 harinas y 50 maltas

BEGIN;
SAVEPOINT ab;

UPDATE producto SET existencia = existencia + 100 WHERE codigo_barras= '1 234567 891011 5';
UPDATE producto SET existencia = existencia + 50 WHERE codigo_barras= '1 123456 123456 3';

COMMIT;

-- 25 galletas de limon 
BEGIN;
UPDATE producto SET existencia = existencia + 25 WHERE codigo_barras= '1 234567 234567 2';
COMMIT;

--30 galletas de limon en otro dia 
BEGIN;
UPDATE producto SET existencia = existencia + 30 WHERE codigo_barras= '1 234567 234567 2';
COMMIT; 

--3 laptops gaming
BEGIN;
UPDATE producto SET existencia = existencia + 3 WHERE codigo_barras= '1 654321 654321 0';
COMMIT; 

-- 1000 paracetamol
BEGIN;
UPDATE producto SET existencia = existencia + 1000 WHERE codigo_barras= '1 234567 234567 7';
COMMIT;


-- 10 insectors
BEGIN;
UPDATE producto SET existencia = existencia + 10 WHERE codigo_barras= '5 234567 222222 2';
COMMIT;

--150 harinas
BEGIN;
UPDATE producto SET existencia = existencia + 150 WHERE codigo_barras= '1 234567 891011 5';
COMMIT;

BEGIN;
SAVEPOINT inicio;

UPDATE producto SET existencia = existencia + 100 WHERE codigo_barras= '1 234567 891011 5';
UPDATE producto SET existencia = existencia + 25 WHERE codigo_barras= '1 234567 234567 2';
UPDATE producto SET existencia = existencia + 50 WHERE codigo_barras= '1 123456 123456 3';

COMMIT;

--tabla factura

INSERT INTO factura VALUES (default, '2021-02-02', 1 , 1);
INSERT INTO factura VALUES (default, '2021-03-03', 2 , 1);
INSERT INTO factura VALUES (default, '2021-04-04', 2 , 2);
INSERT INTO factura VALUES (default, '2021-05-05', 4 , 3);

--tabla producto_venta
 
INSERT INTO producto_venta VALUES (1, 3, '5 234567 222222 2', 12); --vendi 3 insectors
INSERT INTO producto_venta VALUES (2, 500,'1 234567 234567 7', 0.4 ); --vendi 500 paracetamol
INSERT INTO producto_venta VALUES (3, 30, '1 234567 234567 2', 0.6 ); --vendi 30 galletas
INSERT INTO producto_venta VALUES (4, 5, '1 234567 891011 5', 4 ); --vendi 5 harinas pan
INSERT INTO producto_venta VALUES (4, 1, '1 234567 891011 5', 4 ); --vendi 1  insector al mismo cliente de las harinas pan

--aplicar cupon 10%


BEGIN;
UPDATE producto_venta SET precio_venta = precio_venta -(precio_venta * 0.1) WHERE (codigo_barras= '1 234567 891011 5' AND codigo_factura= 4);
COMMIT;

--productos sacados de almacen
BEGIN;
UPDATE producto SET existencia = existencia - 3 WHERE codigo_barras= '5 234567 222222 2';
COMMIT; --vendi 3 insectors

BEGIN;
UPDATE producto SET existencia = existencia - 500 WHERE codigo_barras= '1 234567 234567 7';
COMMIT; --vendi 500 paracetamol

BEGIN;
UPDATE producto SET existencia = existencia - 30 WHERE codigo_barras= '1 234567 234567 2';
COMMIT; --vendi 30 galletas



BEGIN;
UPDATE producto SET existencia = existencia - 5 WHERE codigo_barras= '1 234567 891011 5';
COMMIT; --vendi 5 harina pan

BEGIN;
UPDATE producto SET existencia = existencia - 1 WHERE codigo_barras= '5 234567 222222 2';
COMMIT; --vendi 1 insector


